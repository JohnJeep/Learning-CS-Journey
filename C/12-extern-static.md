<!--
 * @Author: JohnJeep
 * @Date: 2020-05-21 15:05:29
 * @LastEditTime: 2021-01-20 23:17:59
 * @LastEditors: Please set LastEditors
 * @Description: static和extern关键字
-->
# static和extern关键字
## extern/extern "C"
- C/C++中使用extern声明的变量或函数，它们的作用域是全局的，告诉编译器使用该关键字声明的变量可以在本模块或其他模块中使用。只是声明了变量，但是并没有定义该变量。
- extern "C" 的作用是为了能够正确在 C++ 代码中调用 C 语言代码。 加上 extern C 后指示编译器按 C 编译器编译这部分代码。使用它的本质的原因是 C++ 函数重载，C++ 中函数重载在编译后生成的不止是函数名，会带上参数类型，会改变函数的名称，而 C 编译器编译函数时不会带上函数的参数类型，函数的名称没有变。
- 在混合编程中，如果我们不进行任何处理，而相互调用的话，在链接会出现找不到符号链接的情况。
- extern "C"是C++的特性，是一种链接约定，通过它可以实现兼容C与C++之间的相互调用，即对调用函数能够达成一致的意见，使用统一的命名规则，使得实现方提供的接口和调用方需要的接口经按照指定规则编译后，得到的都是一致的函数符号命名。


- Ｃ++与c互相调用问题
  - C++中调用C函数：使用 extern "C" 关键字
  - C如何调用C++函数：需要使用预处理宏和extern "C" 关键字
    ```C
    #ifdef __cplusplus
    extern "C"
    {
    #endif
    ……..
    ……..
    #ifdef __cplusplus
    }
    #endif
    ```


## static
- `static` 修饰的全局变量和函数只能在本模块中使用，不能在其它的模块中使用。因此，一个函数或变量只可能被本模块使用时，其不可能被extern “C”修饰。

