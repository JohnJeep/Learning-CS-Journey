#### 参考
[有限状态机在单片机编程中的应用](http://news.eeworld.com.cn/mcu/article_2017020433573.html)

[Linux C 编程技巧--利用有限状态机模型编程](https://blog.csdn.net/zqixiao_09/article/details/50239337)

[为Linux应用构造有限状态机](https://www.ibm.com/developerworks/cn/linux/l-fsmachine/)




为什么要用状态机？
```
在单片机编程中，如果在不使用操作系统的情况下同时执行多个任务，一个任务的执行时间过长，导致其他任务无法及时执行
在一些任务中大量使用 delay() 等函数进行软件延时，这些延时函数占用过多时间，影响其他任务的执行，一些复杂任务的程序逻辑不清晰，不便于以后对程序进行维护，或添加新功能。可以做到将一个耗时较多的复杂任务分解为多个简单任务，同时使代码逻辑更加清晰。
```

应用：
- 分解耗时过长的任务
  > 单片机执行多任务也是类似的过程，但由于其资源有限，为了节省对 CPU 和存储空间的占用，在很多情况下没有使用操作系统。这时，单片机中运行的各个任务必须在一定时间内主动执行完毕，才能保证下一个任务能够及时执行。
- 避免软件延时对 CPU 资源造成浪费
  > 对于一些简单的程序，可通过 delay(), delay_ms() 之类的函数进行软件延时。这些延时函数，一般是通过将某个变量循环递加或递加，递加或递减到一定值后跳出循环，从而通过消耗 CPU 时间实现了延时。这种方式虽然简单，但在延时函数执行的过程中，其他程序无法运行，消耗了大量 CPU 资源。而通过状态机，有助于减少软件延时的使用，提高 CPU 利用率。 
- 使程序逻辑更加清晰