Zookeeper=文件系统+通知机制

## 特点

1）Zookeeper：一个领导者（ Leader） ， 多个跟随者（ Follower） 组成的集群。
2） **集群中只要有半数以上节点存活， Zookeeper集群就能正常服务。 所以Zookeeper适合安装奇数台服务器。**
3） 全局数据一致：每个Server保存一份相同的数据副本， Client无论连接到哪个Server， 数据都是一致的。
4） 更新请求顺序执行， 来自同一个Client的更新请求按其发送顺序依次执行。
5） 数据更新原子性， 一次数据更新要么成功， 要么失败。
6） 实时性， 在一定时间范围内， Client能读到最新数据。  

## 数据结构

ZooKeeper 数据模型的结构与 Unix 文件系统很类似，整体上可以看作是一棵树，每个节点称做一个 ZNode。每一个 ZNode 默认能够存储 **1MB** 的数据，每个 ZNode 都可以通过其路径唯一标识。  



## 术语

1. SID： 服务器ID。 用来唯一标识一台ZooKeeper集群中的机器，每台机器不能重复， 和myid一致。  
2. ZXID：事务ID。 ZXID是一个事务ID，用来标识一次服务器状态的变更。 在某一时刻，集群中的每台机器的ZXID值不一定完全一致，这和ZooKeeper服务器对于客户端“更新请求”的处理逻辑有关。  
3. Epoch： 每个Leader任期的代号。没有Leader时同一轮投票过程中的逻辑时钟值是相同的。每投完一次票这个数据就会增加  

