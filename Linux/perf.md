<!--
 * @Author: JohnJeep
 * @Date: 2022-07-13 22:59:29
 * @LastEditors: JohnJeep
 * @LastEditTime: 2022-07-13 23:52:37
 * @Description: Linux perf 工具用法
 * Copyright (c) 2022 by JohnJeep, All Rights Reserved. 
-->


# perf

perf 有时叫 **perf_events** 或 **perf tools**，最初的名字是 PCL（Performance Counters for Linux），是 Linux 下的一个性能分析的工具（Performance analysis tools for Linux），从 2009 年发行的 Linux 内核 2.6.31 版本开始支持。



## Subcommands

perf  使用时支持多个子命令。

- `stat`: measure total event count for single program or for system for some time
- `top`: [top](https://en.wikipedia.org/wiki/Top_(Unix))-like dynamic view of hottest functions
- `record`: measure and save sampling data for single program[[13\]](https://en.wikipedia.org/wiki/Perf_(Linux)#cite_note-perfff-13)
- `report`: analyze file generated by perf record; can generate flat, or graph profile.[[13\]](https://en.wikipedia.org/wiki/Perf_(Linux)#cite_note-perfff-13)
- `annotate`: annotate sources or assembly
- `sched`: tracing/measuring of scheduler actions and latencies[[14\]](https://en.wikipedia.org/wiki/Perf_(Linux)#cite_note-14)
- `list`: list available events
- trace

## 可选项参数

- `-e`
- `-a`
- `-p`
- `-t`

# Reference

- brendangregg 博客 perf Examples: https://www.brendangregg.com/perf.html
- Github 源码: https://github.com/brendangregg/perf-tools
- Wikipedia 英文解释 perf (Linux)：https://en.wikipedia.org/wiki/Perf_(Linux)
- YouTube Brendan Gregg 解释 Linux Performance Tools, Part-I：https://www.youtube.com/watch?v=FJW8nGV4jxY
- YouTube Brendan Gregg 解释 Linux Performance Tools, Part-II：https://www.youtube.com/watch?v=zrr2nUln9Kk

